DATA RATE;
INFILE "D:\Academie\6271\A2\Weekly_interest.txt";
INPUT FF TB03 CM10 PRIME AAA;

TIME=_N_;
FFDIF=DIF(FF);
TB03DIF=DIF(TB03);
CM10DIF=DIF(CM10);
PRIMEDIF=DIF(PRIME);
AAADIF=DIF(AAA);

*Question 1;

PROC GPLOT;
PLOT AAADIF*TIME/OVERLAY;
SYMBOL I=JOIN V=DOT;
RUN;

PROC GPLOT;
PLOT TB03DIF*TIME/OVERLAY;
RUN;

PROC GPLOT;
PLOT CM10DIF*TIME/OVERLAY;
RUN;

PROC GPLOT;
PLOT PRIMEDIF*TIME/OVERLAY;
RUN;

PROC REG;
MODEL AAADIF=CM10DIF;
OUTPUT OUT=ACRe P=ACPre;
RUN;

PROC GPLOT;
PLOT AAADIF*CM10DIF;
SYMBOL I=NONE V=PLUS;
RUN;

PROC REG;
MODEL AAADIF=FFDIF;
OUTPUT OUT=ACRe P=ACPre;
RUN;

PROC GPLOT;
PLOT AAADIF*FFDIF;
RUN;

PROC REG;
MODEL AAADIF=TB03DIF;
OUTPUT OUT=ACRe P=ACPre;
RUN;

PROC GPLOT;
PLOT AAADIF*TB03DIF;
RUN;

*Question 2;

PROC REG DATA=RATE;
MODEL AAADIF=CM10DIF FFDIF TB03DIF/CLI;
OUTPUT OUT=AAAReg R=AAAError;

PROC UNIVARIATE DATA=AAAReg Normal;
VAR AAAError;
PROBPLOT;

PROC ARIMA DATA=AAAReg;
IDENTIFY VAR=AAAError;
RUN;

PROC MODEL Data=AAAReg;
AAADIF=a+b1*CM10DIF+b2*FFDIF+b3*TB03DIF;
FIT AAADIF/WHITE;
RUN;

PROC CORR;
VAR CM10DIF FFDIF TB03DIF;

PROC REG DATA=RATE;
MODEL AAADIF=CM10DIF FFDIF TB03DIF/VIF;
RUN;
